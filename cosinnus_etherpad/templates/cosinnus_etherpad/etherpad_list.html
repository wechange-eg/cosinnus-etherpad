{% extends "cosinnus_etherpad/base.html" %}
{% load i18n static cosinnus_tags widget_tweaks %}

{% block page_title %}
{% trans "Pads" %} {{ block.super }}
{% endblock page_title %}

{% block breadcrumb %}
        {{ block.super }}
        {% if current_folder %}
            <li>{{ current_folder.title }}</li>
        {% endif %}
{% endblock %}

{% block leftnav %}
	{% if current_folder and current_folder.path != '/' %}
		{% captureas href %}{% url 'cosinnus:etherpad:list' group=group.slug %}{% endcaptureas %}
		{% captureas label %}{% trans "Zurück" %}{% endcaptureas %}
		{% include "cosinnus/leftnav_button.html" with extra_classes="fine-space" icon="fa-reply" label=label href=href  %}
	{% endif %}
	
	{% for folder in folders %}
		{% captureas href %}{% url 'cosinnus:etherpad:list' group=group.slug slug=folder.container_object.slug %}{% endcaptureas %}
		{% captureas label %}{{ folder.name }} {% if folder.path == current_folder.path %}&gt;&gt;&gt;{% endif%} {% endcaptureas %}
	    {% captureas button_class %}{% if forloop.last %}regular-space{% else %}fine-space{% endif %}{% endcaptureas %}
	    {% captureas folder_size %}{{ folder.objects|length }}{% endcaptureas %}
	    
	    {% include "cosinnus/leftnav_button.html" with extra_classes=button_class icon_content=folder_size label=label href=href  %}
	{% endfor %}
	
    <form action="" method="post"class="form-horizontal">{% csrf_token %}
        <!-- This hidden button is needed for the backend to distinguis between different forms. DO NOT REMOVE! -->
        <button style="display:none" type="submit" name="create_container"></button>
        
		<div type="button" class="btn btn-default w100">
		    <ul class="media-list">
		        <li class="media">
		            <a class="pull-left" href="#">
		                <i class="fa fa-plus"></i>
		            </a>
		            <div class="media-body">
		                {{ container_form.title.errors }}
		                <!-- use spaces for centering. CSS padding does not work here. -->
                        {% captureas placeholder %}{% trans "Neuer Ordnername" %}{% endcaptureas %}
                        {% render_field container_form.title class+="form-control" placeholder=placeholder %}
		            </div>
		        </li>
		    </ul>
		</div>
	</form>
{% endblock leftnav %}


{% block content %}
	<!-- a box with semi transparent background -->
	<div class="content-box">
	    {% with obj_form=form.forms.obj %}
	    <form action="" method="post" class="form-horizontal">{% csrf_token %}
		    {{ obj_form.non_field_errors }}
			<div type="button" class="btn btn-default w100 large-space">
			    <ul class="media-list">
			        <li class="media">
			            <a class="pull-left" href="#">
			                <i class="fa fa-plus"></i>
			            </a>
			            <div class="media-body">
			                {{ obj_form.title.errors }}
			                {% captureas placeholder %}{% trans "Gib den Titel für ein neues Dokument ein." %}{% endcaptureas %}
			                {% render_field obj_form.title class+="form-control" placeholder=placeholder id="etherpadCreateInput" %}
			            </div>
			        </li>
			    </ul>
			</div>
			<button type="submit" class="btn btn-emphasized large-space" id="etherpadCreateButton">
			    <ul class="media-list">
			        <li class="media">
			            <a class="pull-left" href="#">
			                <i class="fa fa-floppy-o"></i>
			            </a>
			            <div class="media-body">
			                Speichern
			            </div>
			        </li>
			    </ul>
			</button>
	    </form>
	    {% endwith %}
	    
	    {% for object in objects %}
		    <div class="fadedown regular-space">
		        <div class="btn btn-emphasized w100">
		            <ul class="media-list">
		                <li class="media">
		                    <a class="pull-left" href="#">
		                        <i class="fa fa-book"></i>
		                    </a>
		                    <a class="pull-right" href="#">
		                        <i class="fa fa-chevron-down"></i>
		                    </a>
		                    <a class="pull-right" href="#">
		                        <i class="fa fa-chain"></i>
		                    </a>
		                    <div class="media-body">
		                        <a href="{% url 'cosinnus:etherpad:pad-edit' group=group.slug slug=object.slug %}">
		                            {{ object.title }}
		                        </a>
		                    </div>
		                </li>
		            </ul>
		        </div>
		
		        <ol class="input-area">
		            <li>
		                <ol>
		                    <li>
		                        <i class="fa fa-user"></i>
		                        Alice, Bob, Cindy
		                    </li>
		                    <li>
		                        <i class="fa fa-tags"></i>
		                        Baustelle, Maurer
		                    </li>
		                    <li>
		                        <i class="fa fa-paperclip"></i>
		                        (Anhänge)
		                    </li>
		                </ol>
		            </li>
		            <li>
		                <ol>
		                    <li>
		                        <i class="fa fa-map-marker"></i>
		                        Berlin, Sinnwerkstatt
		                    </li>
		                    <li>
		                        <i class="fa fa-clock-o"></i>
		                        heute 00:07
		                    </li>
		                    <li>
		                        <i class="fa fa-fw fa-bolt"></i>
		                        Blitz an
		                    </li>
		                    <li>
		                        <i class="fa fa-fw fa-lightbulb-o"></i>
		                        mit Licht
		                    </li>
		                    <li>
		                        <i class="fa fa-fw fa-globe"></i>
		                        Öffentlich
		                    </li>
		                </ol>
		            </li>
		        </ol><!-- input-area -->
		
		        <button type="button" class="btn btn-emphasized">
		            <ul class="media-list">
		                <li class="media">
		                    <a class="pull-left" href="#">
		                        <i class="fa fa-eraser"></i>
		                    </a>
		                    <div class="media-body">
		                        Löschen
		                    </div>
		                </li>
		            </ul>
		        </button>
		        <button type="button" class="btn btn-emphasized">
		            <ul class="media-list">
		                <li class="media">
		                    <a class="pull-left" href="#">
		                        <i class="fa fa-pencil"></i>
		                    </a>
		                    <div class="media-body">
		                        Bearbeiten
		                    </div>
		                </li>
		            </ul>
		        </button>
		    </div><!-- fadedown -->
	    {% endfor %}
	
	</div><!-- content-box -->
{% endblock content %}
